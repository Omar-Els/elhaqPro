var L=Object.defineProperty,D=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var v=(a,i,s)=>i in a?L(a,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[i]=s,w=(a,i)=>{for(var s in i||(i={}))W.call(i,s)&&v(a,s,i[s]);if(f)for(var s of f(i))V.call(i,s)&&v(a,s,i[s]);return a},N=(a,i)=>D(a,G(i));var h=(a,i,s)=>new Promise((p,o)=>{var d=r=>{try{n(s.next(r))}catch(l){o(l)}},m=r=>{try{n(s.throw(r))}catch(l){o(l)}},n=r=>r.done?p(r.value):Promise.resolve(r.value).then(d,m);n((s=s.apply(a,i)).next())});import{j as e,m as u}from"./ui-DdfHXWzg.js";import{r as g,a as O,L as P}from"./router-Bz2IGiOt.js";import{u as R,e as b}from"./redux-CWL_9H02.js";import{s as q,a as z,b as B,l as x,c as H,d as j,e as y,f as J,g as K}from"./index-COkUExVb.js";/* empty css             */import"./vendor-BDC5HmX-.js";const _=()=>{const[a,i]=g.useState({email:"",password:""}),[s,p]=g.useState({}),o=R(),d=O(),m=b(q),n=b(z),r=b(B);g.useEffect(()=>{m&&d("/")},[m,d]);const l=t=>{const{name:c,value:I}=t.target;i(N(w({},a),{[c]:I}))},S=()=>{const t={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(t.email="البريد الإلكتروني غير صالح"):t.email="البريد الإلكتروني مطلوب",a.password||(t.password="كلمة المرور مطلوبة"),p(t),Object.keys(t).length===0},F=t=>h(null,null,function*(){if(t.preventDefault(),S())try{o(x());const c=yield H(a.email,a.password);o(j(c))}catch(c){o(y(c.message||"فشل تسجيل الدخول"))}}),k=()=>h(null,null,function*(){try{o(x());const t=yield J();o(j(t))}catch(t){o(y(t.message||"فشل تسجيل الدخول باستخدام Google"))}}),C=()=>h(null,null,function*(){try{o(x());const t=yield K();o(j(t))}catch(t){o(y(t.message||"فشل تسجيل الدخول باستخدام Facebook"))}}),E={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},A={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return e.jsx(u.div,{className:"login-container",variants:E,initial:"hidden",animate:"visible",children:e.jsxs(u.div,{className:"card",variants:A,children:[e.jsx("h2",{children:"تسجيل الدخول"}),r&&e.jsx(u.div,{className:"error-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:r}),e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"البريد الإلكتروني"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:l,className:s.email?"error":"",autoComplete:"email"}),s.email&&e.jsx("div",{className:"error-text",children:s.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"كلمة المرور"}),e.jsx("input",{type:"password",id:"password",name:"password",value:a.password,onChange:l,className:s.password?"error":"",autoComplete:"current-password"}),s.password&&e.jsx("div",{className:"error-text",children:s.password})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"جاري تسجيل الدخول...":"تسجيل الدخول"})]}),e.jsxs("div",{className:"social-login",children:[e.jsx("p",{children:"أو تسجيل الدخول باستخدام"}),e.jsxs("div",{className:"social-buttons",children:[e.jsx("button",{type:"button",className:"btn btn-google",onClick:k,disabled:n,children:"Google"}),e.jsx("button",{type:"button",className:"btn btn-facebook",onClick:C,disabled:n,children:"Facebook"})]})]}),e.jsx("div",{className:"auth-footer",children:e.jsxs("p",{children:["ليس لديك حساب؟"," ",e.jsx(P,{to:"/register",children:"إنشاء حساب جديد"})]})})]})})};export{_ as default};
