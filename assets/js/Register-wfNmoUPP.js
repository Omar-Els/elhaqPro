var I=Object.defineProperty,D=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var v=(e,o,a)=>o in e?I(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,y=(e,o)=>{for(var a in o||(o={}))L.call(o,a)&&v(e,a,o[a]);if(j)for(var a of j(o))W.call(o,a)&&v(e,a,o[a]);return e},N=(e,o)=>D(e,G(o));var h=(e,o,a)=>new Promise((p,i)=>{var m=t=>{try{n(a.next(t))}catch(l){i(l)}},d=t=>{try{n(a.throw(t))}catch(l){i(l)}},n=t=>t.done?p(t.value):Promise.resolve(t.value).then(m,d);n((a=a.apply(e,o)).next())});import{j as s,m as u}from"./ui-DdfHXWzg.js";import{r as g,a as R,L as V}from"./router-Bz2IGiOt.js";import{u as O,e as f}from"./redux-CWL_9H02.js";import{s as q,a as z,b as B,l as x,r as H,d as w,e as b,f as J,g as K}from"./index-COkUExVb.js";/* empty css             */import"./vendor-BDC5HmX-.js";const _=()=>{const[e,o]=g.useState({name:"",email:"",password:"",confirmPassword:""}),[a,p]=g.useState({}),i=O(),m=R(),d=f(q),n=f(z),t=f(B);g.useEffect(()=>{d&&m("/")},[d,m]);const l=r=>{const{name:c,value:A}=r.target;o(N(y({},e),{[c]:A}))},C=()=>{const r={};return e.name||(r.name="الاسم مطلوب"),e.email?/\S+@\S+\.\S+/.test(e.email)||(r.email="البريد الإلكتروني غير صالح"):r.email="البريد الإلكتروني مطلوب",e.password?e.password.length<6&&(r.password="كلمة المرور يجب أن تكون 6 أحرف على الأقل"):r.password="كلمة المرور مطلوبة",e.confirmPassword?e.password!==e.confirmPassword&&(r.confirmPassword="كلمات المرور غير متطابقة"):r.confirmPassword="تأكيد كلمة المرور مطلوب",p(r),Object.keys(r).length===0},P=r=>h(null,null,function*(){if(r.preventDefault(),C())try{i(x());const c=yield H(e.name,e.email,e.password);i(w(c))}catch(c){i(b(c.message||"فشل إنشاء الحساب"))}}),F=()=>h(null,null,function*(){try{i(x());const r=yield J();i(w(r))}catch(r){i(b(r.message||"فشل تسجيل الدخول باستخدام Google"))}}),S=()=>h(null,null,function*(){try{i(x());const r=yield K();i(w(r))}catch(r){i(b(r.message||"فشل تسجيل الدخول باستخدام Facebook"))}}),k={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},E={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return s.jsx(u.div,{className:"register-container",variants:k,initial:"hidden",animate:"visible",children:s.jsxs(u.div,{className:"card",variants:E,children:[s.jsx("h2",{children:"إنشاء حساب جديد"}),t&&s.jsx(u.div,{className:"error-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:t}),s.jsxs("form",{onSubmit:P,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"name",children:"الاسم"}),s.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:l,className:a.name?"error":"",autoComplete:"name"}),a.name&&s.jsx("div",{className:"error-text",children:a.name})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",children:"البريد الإلكتروني"}),s.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:l,className:a.email?"error":"",autoComplete:"email"}),a.email&&s.jsx("div",{className:"error-text",children:a.email})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"password",children:"كلمة المرور"}),s.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:l,className:a.password?"error":"",autoComplete:"new-password"}),a.password&&s.jsx("div",{className:"error-text",children:a.password})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور"}),s.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:l,className:a.confirmPassword?"error":"",autoComplete:"new-password"}),a.confirmPassword&&s.jsx("div",{className:"error-text",children:a.confirmPassword})]}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"جاري إنشاء الحساب...":"إنشاء حساب"})]}),s.jsxs("div",{className:"social-login",children:[s.jsx("p",{children:"أو إنشاء حساب باستخدام"}),s.jsxs("div",{className:"social-buttons",children:[s.jsx("button",{type:"button",className:"btn btn-google",onClick:F,disabled:n,children:"Google"}),s.jsx("button",{type:"button",className:"btn btn-facebook",onClick:S,disabled:n,children:"Facebook"})]})]}),s.jsx("div",{className:"auth-footer",children:s.jsxs("p",{children:["لديك حساب بالفعل؟"," ",s.jsx(V,{to:"/login",children:"تسجيل الدخول"})]})})]})})};export{_ as default};
