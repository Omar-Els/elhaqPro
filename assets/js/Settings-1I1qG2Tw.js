import{j as e,m,A as ae}from"./ui-4y8eivj0.js";import{r as d}from"./router-CLq98pCg.js";import{u as P,e as p}from"./redux-Bcoi-VAn.js";import{aL as E,aM as R,_ as Y,aa as ie,ag as te,aN as ne,aO as ce,aP as le,aQ as re,aR as oe,aS as F,aT as $,o as I,aU as f,aV as de,aW as he,aX as me,aY as xe,aZ as je,a_ as ve,a$ as ge,b0 as pe,b1 as ue,m as J,b2 as M,ac as V,b3 as q,b4 as _,b5 as Ne,b6 as Q,b7 as W,b8 as fe,b9 as T,ba as C,aI as X,bb as be,bc as ye,bd as Se,be as ke,bf as we,bg as Ce,bh as Fe,bi as Ie}from"./index-B-68B3Uo.js";import"./vendor-CWc6w16D.js";const De=()=>{const[r,n]=d.useState(!1),l=()=>{if(confirm(`هل تريد تنظيف البيانات المحلية؟

سيتم الاحتفاظ بـ:
• توكن تسجيل الدخول
• الإعدادات الأساسية
• تفضيلات المستخدم`)){n(!0);const i=localStorage.getItem("authToken"),c=localStorage.getItem("userPreferences"),v=localStorage.getItem("theme"),x=localStorage.getItem("language");localStorage.clear(),i&&localStorage.setItem("authToken",i),c&&localStorage.setItem("userPreferences",c),v&&localStorage.setItem("theme",v),x&&localStorage.setItem("language",x),console.log("✅ تم تنظيف localStorage"),setTimeout(()=>{n(!1),alert("تم تنظيف البيانات المحلية بنجاح!")},1e3)}},o=async()=>{if(confirm(`هل تريد حذف جميع قواعد البيانات المحلية؟

هذا سيحذف:
• جميع البيانات المحفوظة محلياً
• الصور والملفات
• البيانات المؤقتة`)){n(!0);try{const i=["ElhaqDB","beneficiariesDB","transactionsDB","filesDB"];for(const c of i)try{await j(c),console.log(`✅ تم حذف قاعدة البيانات: ${c}`)}catch(v){console.warn(`⚠️ فشل في حذف ${c}:`,v)}console.log("✅ تم تنظيف IndexedDB"),alert("تم حذف جميع قواعد البيانات المحلية بنجاح!")}catch(i){console.error("❌ خطأ في تنظيف IndexedDB:",i),alert("حدث خطأ في تنظيف قواعد البيانات")}finally{n(!1)}}},j=i=>new Promise((c,v)=>{const x=indexedDB.deleteDatabase(i);x.onsuccess=()=>c(),x.onerror=()=>v(x.error),x.onblocked=()=>{console.warn(`⚠️ حذف ${i} محجوب`),setTimeout(()=>c(),1e3)}}),g=async()=>{if(confirm(`تنظيف شامل للبيانات المحلية؟

سيتم حذف:
• جميع البيانات في localStorage
• جميع قواعد بيانات IndexedDB
• Cache المتصفح

الاحتفاظ فقط بـ:
• توكن تسجيل الدخول
• الإعدادات الأساسية`)){n(!0);try{const i=localStorage.getItem("authToken"),c=localStorage.getItem("userPreferences"),v=localStorage.getItem("theme");localStorage.clear(),sessionStorage.clear(),i&&localStorage.setItem("authToken",i),c&&localStorage.setItem("userPreferences",c),v&&localStorage.setItem("theme",v);const x=["ElhaqDB","beneficiariesDB","transactionsDB","filesDB"];for(const h of x)try{await j(h)}catch{console.warn(`فشل في حذف ${h}`)}if("caches"in window){const h=await caches.keys();await Promise.all(h.map(u=>caches.delete(u)))}console.log("🎉 تم التنظيف الشامل بنجاح"),alert(`تم التنظيف الشامل بنجاح!

تم توفير مساحة كبيرة في المتصفح.`),setTimeout(()=>{window.location.reload()},1e3)}catch(i){console.error("❌ خطأ في التنظيف الشامل:",i),alert("حدث خطأ في التنظيف الشامل")}finally{n(!1)}}};return e.jsxs("div",{className:"data-cleanup-container",children:[e.jsx("h3",{children:"🧹 تنظيف البيانات المحلية"}),e.jsx("p",{children:"لحل مشاكل امتلاء مساحة التخزين في المتصفح"}),e.jsxs("div",{className:"cleanup-buttons",children:[e.jsxs(m.button,{className:"cleanup-btn localStorage-btn",onClick:l,disabled:r,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(E,{}),"تنظيف localStorage"]}),e.jsxs(m.button,{className:"cleanup-btn indexeddb-btn",onClick:o,disabled:r,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(R,{}),"حذف IndexedDB"]}),e.jsxs(m.button,{className:"cleanup-btn full-cleanup-btn",onClick:g,disabled:r,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Y,{}),r?"جاري التنظيف...":"تنظيف شامل"]})]}),e.jsxs("div",{className:"cleanup-info",children:[e.jsx("h4",{children:"💡 نصائح:"}),e.jsxs("ul",{children:[e.jsx("li",{children:'✅ استخدم "تنظيف localStorage" للمشاكل البسيطة'}),e.jsx("li",{children:'✅ استخدم "حذف IndexedDB" للبيانات الكبيرة'}),e.jsx("li",{children:'✅ استخدم "تنظيف شامل" لحل جميع المشاكل'}),e.jsx("li",{children:"⚠️ التنظيف الشامل سيعيد تحميل الصفحة"})]})]})]})},$e=()=>{const r=P(),n=p(h=>h.notifications.notifications),l=n.length,o=n.filter(h=>h.read).length,j=l-o,g=new Date(Date.now()-60*60*1e3),i=n.filter(h=>new Date(h.timestamp)<g).length,c=()=>{confirm(`هل تريد حذف جميع الإشعارات (${l} إشعار)؟`)&&r(le())},v=()=>{if(i===0){alert("لا توجد إشعارات قديمة للحذف");return}confirm(`هل تريد حذف الإشعارات القديمة (${i} إشعار)؟`)&&r(ce())},x=()=>{if(o===0){alert("لا توجد إشعارات مقروءة للحذف");return}confirm(`هل تريد حذف الإشعارات المقروءة (${o} إشعار)؟`)&&r(ne())};return e.jsxs("div",{className:"notification-cleanup",children:[e.jsx("h3",{children:"🧹 تنظيف الإشعارات"}),e.jsx("p",{children:"إدارة وتنظيف الإشعارات لتوفير المساحة وتحسين الأداء"}),e.jsxs("div",{className:"notification-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-number",children:l}),e.jsx("div",{className:"stat-label",children:"إجمالي الإشعارات"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-number",children:j}),e.jsx("div",{className:"stat-label",children:"غير مقروءة"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-number",children:o}),e.jsx("div",{className:"stat-label",children:"مقروءة"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-number",children:i}),e.jsx("div",{className:"stat-label",children:"قديمة (+1 ساعة)"})]})]}),e.jsxs("div",{className:"cleanup-actions",children:[e.jsxs(m.button,{className:"cleanup-action-btn clear-read-btn",onClick:x,disabled:o===0,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(ie,{}),e.jsxs("span",{children:["حذف المقروءة (",o,")"]})]}),e.jsxs(m.button,{className:"cleanup-action-btn clear-old-btn",onClick:v,disabled:i===0,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(te,{}),e.jsxs("span",{children:["حذف القديمة (",i,")"]})]}),e.jsxs(m.button,{className:"cleanup-action-btn clear-all-btn",onClick:c,disabled:l===0,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Y,{}),e.jsxs("span",{children:["حذف الكل (",l,")"]})]})]}),e.jsxs("div",{className:"cleanup-info",children:[e.jsx("h4",{children:"💡 نصائح لإدارة الإشعارات:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:["✅ ",e.jsx("strong",{children:"حذف المقروءة:"})," يحذف الإشعارات التي قرأتها بالفعل"]}),e.jsxs("li",{children:["✅ ",e.jsx("strong",{children:"حذف القديمة:"})," يحذف الإشعارات الأقدم من ساعة واحدة"]}),e.jsxs("li",{children:["✅ ",e.jsx("strong",{children:"حذف الكل:"})," يحذف جميع الإشعارات (استخدم بحذر)"]}),e.jsxs("li",{children:["⚡ ",e.jsx("strong",{children:"تلقائي:"})," النظام يحد من الإشعارات المتكررة تلقائياً"]}),e.jsxs("li",{children:["💾 ",e.jsx("strong",{children:"توفير المساحة:"})," الإشعارات لا تُحفظ في localStorage"]})]})]}),l>30&&e.jsxs("div",{className:"cleanup-warning",children:[e.jsx(E,{}),e.jsxs("div",{children:[e.jsx("strong",{children:"تحذير:"})," لديك ",l," إشعار. يُنصح بتنظيف الإشعارات لتحسين الأداء."]})]}),l===0&&e.jsxs("div",{className:"no-notifications",children:[e.jsx(E,{}),e.jsxs("div",{children:[e.jsx("strong",{children:"ممتاز!"})," لا توجد إشعارات للتنظيف."]})]})]})},Te=()=>{const r=P(),n=p(re),l=p(oe),o=j=>{j===f.ADMIN?r(de()):r(he())};return e.jsxs("div",{className:"role-switcher",children:[e.jsxs("div",{className:"role-switcher-header",children:[e.jsx(F,{}),e.jsx("h3",{children:"تبديل الدور (للاختبار)"})]}),e.jsxs("div",{className:"current-role",children:[e.jsx("span",{children:"الدور الحالي: "}),e.jsx("span",{className:`role-badge ${n}`,children:l?e.jsxs(e.Fragment,{children:[e.jsx($,{})," مدير"]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{})," مستخدم"]})})]}),e.jsxs("div",{className:"role-buttons",children:[e.jsxs(m.button,{className:`role-btn admin-btn ${n===f.ADMIN?"active":""}`,onClick:()=>o(f.ADMIN),whileHover:{scale:1.05},whileTap:{scale:.95},disabled:n===f.ADMIN,children:[e.jsx($,{}),e.jsxs("div",{children:[e.jsx("div",{className:"role-title",children:"مدير"}),e.jsx("div",{className:"role-desc",children:"جميع الصلاحيات"})]})]}),e.jsxs(m.button,{className:`role-btn user-btn ${n===f.USER?"active":""}`,onClick:()=>o(f.USER),whileHover:{scale:1.05},whileTap:{scale:.95},disabled:n===f.USER,children:[e.jsx(I,{}),e.jsxs("div",{children:[e.jsx("div",{className:"role-title",children:"مستخدم"}),e.jsx("div",{className:"role-desc",children:"عرض فقط"})]})]})]}),e.jsxs("div",{className:"role-permissions",children:[e.jsx("h4",{children:"الصلاحيات الحالية:"}),e.jsx("div",{className:"permissions-list",children:l?e.jsxs("div",{className:"permission-item admin-permission",children:[e.jsx($,{}),e.jsx("span",{children:"جميع الصلاحيات (مدير)"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"permission-item",children:e.jsx("span",{children:"👁️ عرض المستفيدين"})}),e.jsx("div",{className:"permission-item",children:e.jsx("span",{children:"👁️ عرض المعاملات المالية"})}),e.jsx("div",{className:"permission-item",children:e.jsx("span",{children:"👁️ عرض التقارير"})}),e.jsx("div",{className:"permission-item",children:e.jsx("span",{children:"🔍 البحث والفلترة"})})]})})]}),e.jsxs("div",{className:"role-info",children:[e.jsx("h4",{children:"💡 معلومات الأدوار:"}),e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"👑 المدير:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"✅ إضافة وتعديل وحذف المستفيدين"}),e.jsx("li",{children:"✅ إدارة المعاملات المالية"}),e.jsx("li",{children:"✅ تصدير التقارير"}),e.jsx("li",{children:"✅ تعديل الإعدادات"}),e.jsx("li",{children:"✅ إدارة المحتوى"})]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"👤 المستخدم:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"👁️ عرض المستفيدين فقط"}),e.jsx("li",{children:"👁️ عرض المعاملات المالية فقط"}),e.jsx("li",{children:"🔍 البحث والفلترة"}),e.jsx("li",{children:"📊 عرض التقارير فقط"}),e.jsx("li",{children:"❌ لا يمكن التعديل أو الحذف"})]})]})]})]})},Me=()=>{const r=P();p(me),p(xe);const n=p(je),l=p(ve),o=p(ge),j=p(pe),g=p(ue),[i,c]=d.useState("appearance"),[v,x]=d.useState(!1),[h,u]=d.useState(null),[k,w]=d.useState(!1),[A,S]=d.useState(!1),[Ee,Z]=d.useState(null),[Re,Pe]=d.useState(!1),[Ae,L]=d.useState(null),[Le,Be]=d.useState(!1),G=d.useRef(null),B=d.useRef(null),[s,D]=d.useState({appearance:{...n},notifications:{...l},account:{...o},privacy:{...j},data:{...g}});d.useEffect(()=>{D({appearance:{...n},notifications:{...l},account:{...o},privacy:{...j},data:{...g}})},[n,l,o,j,g]),d.useEffect(()=>{if(i==="data"){const a=async()=>{const N=ke.getStorageInfo();Z(N);try{const y=await we();L(y)}catch(y){console.warn("لا يمكن الحصول على معلومات IndexedDB:",y),L(null)}};a();const b=setInterval(a,5e3);return()=>clearInterval(b)}},[i]),d.useEffect(()=>{(()=>{JSON.stringify(s.appearance)!==JSON.stringify(n)||JSON.stringify(s.notifications)!==JSON.stringify(l)||JSON.stringify(s.account)!==JSON.stringify(o)||JSON.stringify(s.privacy)!==JSON.stringify(j)||JSON.stringify(s.data)!==JSON.stringify(g)?S(!0):S(!1)})()},[s,n,l,o,j,g]),d.useEffect(()=>{if(k&&h)return(()=>{document.documentElement.style.setProperty("--font-size-preview",K(h.appearance.fontSize)),document.body.classList.add("preview-mode"),document.documentElement.style.setProperty("--primary-color-preview",h.appearance.primaryColor),document.documentElement.style.setProperty("--secondary-color-preview",h.appearance.secondaryColor)})(),()=>{document.body.classList.remove("preview-mode")}},[k,h]);const K=a=>{switch(a){case"small":return"0.875rem";case"large":return"1.125rem";case"medium":default:return"1rem"}},t=(a,b,N)=>{const y={...s,[a]:{...s[a],[b]:N}};D(y),u(y),w(!0)},O=()=>{Object.keys(s).forEach(a=>{r(Ce({category:a,settings:s[a]}))}),r(Fe(s.appearance.theme)),r(C({type:"success",message:"تم حفظ الإعدادات بنجاح"})),w(!1),u(null),S(!1)},z=()=>{x(!0)},ee=()=>{r(Ie()),r(C({type:"info",message:"تم إعادة تعيين الإعدادات إلى الإعدادات الافتراضية"})),x(!1),w(!1),u(null),S(!1)},H=()=>{D({appearance:{...n},notifications:{...l},account:{...o},privacy:{...j},data:{...g}}),w(!1),u(null),S(!1),r(C({type:"info",message:"تم إلغاء التغييرات"}))},se={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},U={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return e.jsxs(m.div,{className:`settings-container ${k?"preview-active":""}`,variants:se,initial:"hidden",animate:"visible",children:[e.jsxs(m.div,{className:"page-header",variants:U,children:[e.jsx("h1",{children:"الإعدادات"}),A&&e.jsxs("div",{className:"settings-status",children:[e.jsx("span",{className:"status-badge",children:"تم التعديل"}),e.jsxs("div",{className:"header-actions",children:[e.jsxs(m.button,{className:"btn btn-secondary",onClick:H,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(J,{})," إلغاء"]}),e.jsxs(m.button,{className:"btn btn-primary",onClick:O,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(M,{})," حفظ التغييرات"]})]})]})]}),k&&e.jsx(m.div,{className:"preview-banner",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"preview-message",children:[e.jsx(V,{}),' أنت في وضع المعاينة. التغييرات لن يتم حفظها حتى تضغط على "حفظ التغييرات".']})}),e.jsxs(m.div,{className:"settings-content",variants:U,children:[e.jsxs("div",{className:"settings-sidebar",children:[e.jsxs("button",{className:`settings-tab ${i==="appearance"?"active":""}`,onClick:()=>c("appearance"),children:[e.jsx(q,{})," المظهر"]}),e.jsxs("button",{className:`settings-tab ${i==="notifications"?"active":""}`,onClick:()=>c("notifications"),children:[e.jsx(_,{})," الإشعارات"]}),e.jsxs("button",{className:`settings-tab ${i==="account"?"active":""}`,onClick:()=>c("account"),children:[e.jsx(Ne,{})," الحساب"]}),e.jsxs("button",{className:`settings-tab ${i==="privacy"?"active":""}`,onClick:()=>c("privacy"),children:[e.jsx(Q,{})," الخصوصية"]}),e.jsxs("button",{className:`settings-tab ${i==="data"?"active":""}`,onClick:()=>c("data"),children:[e.jsx(R,{})," البيانات"]}),e.jsxs("button",{className:`settings-tab ${i==="security"?"active":""}`,onClick:()=>c("security"),children:[e.jsx(F,{})," الأمان والصلاحيات"]}),e.jsx("div",{className:"settings-actions-sidebar",children:e.jsxs("button",{className:"btn btn-reset",onClick:z,children:[e.jsx(W,{})," إعادة تعيين"]})})]}),e.jsxs("div",{className:"settings-panel",children:[i==="appearance"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات المظهر"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"المظهر"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"theme-options",children:[e.jsxs("button",{className:`theme-option ${s.appearance.theme==="light"?"active":""}`,onClick:()=>t("appearance","theme","light"),children:[e.jsx("div",{className:"theme-preview light-preview",children:e.jsx(q,{})}),e.jsx("span",{children:"فاتح"})]}),e.jsxs("button",{className:`theme-option ${s.appearance.theme==="dark"?"active":""}`,onClick:()=>t("appearance","theme","dark"),children:[e.jsx("div",{className:"theme-preview dark-preview",children:e.jsx(fe,{})}),e.jsx("span",{children:"داكن"})]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"الألوان الرئيسية"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"color-pickers",children:[e.jsxs("div",{className:"color-picker",children:[e.jsx("label",{children:"اللون الرئيسي"}),e.jsx("div",{className:"color-preview",style:{backgroundColor:s.appearance.primaryColor},children:e.jsx("input",{type:"color",value:s.appearance.primaryColor,onChange:a=>t("appearance","primaryColor",a.target.value),ref:G})})]}),e.jsxs("div",{className:"color-picker",children:[e.jsx("label",{children:"اللون الثانوي"}),e.jsx("div",{className:"color-preview",style:{backgroundColor:s.appearance.secondaryColor},children:e.jsx("input",{type:"color",value:s.appearance.secondaryColor,onChange:a=>t("appearance","secondaryColor",a.target.value)})})]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"حجم الخط"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"font-size-options",children:[e.jsxs("button",{className:`font-size-option ${s.appearance.fontSize==="small"?"active":""}`,onClick:()=>t("appearance","fontSize","small"),children:[e.jsx(T,{className:"font-small"}),e.jsx("span",{children:"صغير"})]}),e.jsxs("button",{className:`font-size-option ${s.appearance.fontSize==="medium"?"active":""}`,onClick:()=>t("appearance","fontSize","medium"),children:[e.jsx(T,{className:"font-medium"}),e.jsx("span",{children:"متوسط"})]}),e.jsxs("button",{className:`font-size-option ${s.appearance.fontSize==="large"?"active":""}`,onClick:()=>t("appearance","fontSize","large"),children:[e.jsx(T,{className:"font-large"}),e.jsx("span",{children:"كبير"})]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"اتجاه الصفحة"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"rtl-toggle",checked:s.appearance.rtl,onChange:a=>t("appearance","rtl",a.target.checked)}),e.jsx("label",{htmlFor:"rtl-toggle"}),e.jsx("span",{children:s.appearance.rtl?"من اليمين إلى اليسار":"من اليسار إلى اليمين"})]})})]}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معاينة"}),e.jsxs("div",{className:`preview-box ${s.appearance.theme}`,children:[e.jsx("div",{className:"preview-header",style:{backgroundColor:s.appearance.primaryColor},children:e.jsx("div",{className:"preview-title",children:"معاينة المظهر"})}),e.jsxs("div",{className:"preview-content",children:[e.jsx("div",{className:"preview-text",children:"هذا نص تجريبي لمعاينة حجم الخط والألوان."}),e.jsx("button",{className:"preview-button",style:{backgroundColor:s.appearance.secondaryColor},children:"زر تجريبي"})]})]})]})]}),i==="notifications"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات الإشعارات"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"تفعيل الإشعارات"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"notifications-toggle",checked:s.notifications.enableNotifications,onChange:a=>t("notifications","enableNotifications",a.target.checked)}),e.jsx("label",{htmlFor:"notifications-toggle"}),e.jsx("span",{children:s.notifications.enableNotifications?"مفعل":"غير مفعل"})]})})]}),s.notifications.enableNotifications&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"صوت الإشعارات"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"sound-toggle",checked:s.notifications.notificationSound,onChange:a=>t("notifications","notificationSound",a.target.checked)}),e.jsx("label",{htmlFor:"sound-toggle"}),e.jsx("span",{children:s.notifications.notificationSound?"مفعل":"غير مفعل"})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"notification-duration",children:"مدة ظهور الإشعار (ثواني)"})}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"range-slider",children:[e.jsx("input",{type:"range",id:"notification-duration",min:"1",max:"10",value:s.notifications.notificationDuration,onChange:a=>t("notifications","notificationDuration",parseInt(a.target.value,10)),"aria-label":"مدة ظهور الإشعار بالثواني"}),e.jsxs("span",{className:"range-value",children:[s.notifications.notificationDuration," ثواني"]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"إشعارات البريد الإلكتروني"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"email-toggle",checked:s.notifications.emailNotifications,onChange:a=>t("notifications","emailNotifications",a.target.checked)}),e.jsx("label",{htmlFor:"email-toggle"}),e.jsx("span",{children:s.notifications.emailNotifications?"مفعل":"غير مفعل"})]})})]}),s.notifications.emailNotifications&&e.jsx("div",{className:"setting-info",children:e.jsxs("p",{children:["سيتم إرسال إشعارات البريد الإلكتروني إلى العنوان المحدد في إعدادات الحساب.",!s.account.email&&e.jsx("span",{className:"warning-text",children:" يرجى تحديد عنوان بريد إلكتروني في إعدادات الحساب."})]})})]}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معاينة الإشعارات"}),e.jsxs("div",{className:"notification-preview",children:[e.jsxs("div",{className:`notification-item ${s.notifications.enableNotifications?"":"disabled"}`,children:[e.jsx("div",{className:"notification-icon success",children:e.jsx(V,{})}),e.jsxs("div",{className:"notification-content",children:[e.jsx("div",{className:"notification-title",children:"إشعار تجريبي"}),e.jsx("div",{className:"notification-message",children:"هذا مثال على كيفية ظهور الإشعارات في النظام."})]})]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>{s.notifications.enableNotifications&&r(C({type:"info",message:"هذا إشعار تجريبي لمعاينة الإعدادات"}))},disabled:!s.notifications.enableNotifications,children:[e.jsx(_,{})," عرض إشعار تجريبي"]})]})]}),e.jsx($e,{})]}),i==="account"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات الحساب"}),e.jsxs("div",{className:"account-header",children:[e.jsxs("div",{className:"avatar-container",children:[e.jsx("label",{htmlFor:"avatar-upload",className:"avatar-label",children:"الصورة الشخصية"}),e.jsxs("div",{className:"avatar-preview",style:{backgroundImage:s.account.avatar?`url(${s.account.avatar})`:"none"},children:[!s.account.avatar&&e.jsx(I,{}),e.jsx("button",{className:"avatar-upload-btn",onClick:()=>B.current.click(),"aria-label":"تغيير الصورة الشخصية",children:"تغيير"}),e.jsx("input",{type:"file",id:"avatar-upload",ref:B,style:{display:"none"},accept:"image/*","aria-label":"رفع صورة شخصية",onChange:a=>{const b=a.target.files[0];if(b){const N=new FileReader;N.onloadend=()=>{t("account","avatar",N.result)},N.readAsDataURL(b)}}})]})]}),e.jsx("div",{className:"account-info",children:e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"display-name",children:"اسم العرض"})}),e.jsx("div",{className:"setting-control",children:e.jsx("input",{type:"text",id:"display-name",value:s.account.displayName,onChange:a=>t("account","displayName",a.target.value),placeholder:"أدخل اسم العرض",autoComplete:"name","aria-label":"اسم العرض"})})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"account-email",children:"البريد الإلكتروني"})}),e.jsx("div",{className:"setting-control",children:e.jsx("input",{type:"email",id:"account-email",value:s.account.email,onChange:a=>t("account","email",a.target.value),placeholder:"أدخل البريد الإلكتروني",autoComplete:"email","aria-label":"البريد الإلكتروني"})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"اللغة"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"language-options",children:[e.jsxs("button",{className:`language-option ${s.account.language==="ar"?"active":""}`,onClick:()=>t("account","language","ar"),children:[e.jsx("span",{className:"language-flag",children:"🇪🇬"}),e.jsx("span",{children:"العربية"})]}),e.jsxs("button",{className:`language-option ${s.account.language==="en"?"active":""}`,onClick:()=>t("account","language","en"),children:[e.jsx("span",{className:"language-flag",children:"🇺🇸"}),e.jsx("span",{children:"الإنجليزية"})]})]})})]}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معاينة الحساب"}),e.jsx("div",{className:"account-preview",children:e.jsxs("div",{className:"account-card",children:[e.jsxs("div",{className:"account-card-header",children:[e.jsx("div",{className:"account-card-avatar",style:{backgroundImage:s.account.avatar?`url(${s.account.avatar})`:"none"},children:!s.account.avatar&&e.jsx(I,{})}),e.jsx("div",{className:"account-card-name",children:s.account.displayName||"المستخدم"})]}),e.jsxs("div",{className:"account-card-body",children:[e.jsx("div",{className:"account-card-email",children:s.account.email||"لم يتم تحديد بريد إلكتروني"}),e.jsx("div",{className:"account-card-language",children:s.account.language==="ar"?"العربية 🇪🇬":"الإنجليزية 🇺🇸"})]})]})})]})]}),i==="privacy"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات الخصوصية"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"حفظ معلومات تسجيل الدخول"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"save-login-toggle",checked:s.privacy.saveLoginInfo,onChange:a=>t("privacy","saveLoginInfo",a.target.checked)}),e.jsx("label",{htmlFor:"save-login-toggle"}),e.jsx("span",{children:s.privacy.saveLoginInfo?"مفعل":"غير مفعل"})]})})]}),s.privacy.saveLoginInfo&&e.jsx("div",{className:"setting-info",children:e.jsx("p",{children:"سيتم حفظ معلومات تسجيل الدخول الخاصة بك على هذا الجهاز، مما يتيح لك تسجيل الدخول تلقائيًا في المرة القادمة."})}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"تسجيل الخروج التلقائي"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"auto-logout-toggle",checked:s.privacy.autoLogout,onChange:a=>t("privacy","autoLogout",a.target.checked)}),e.jsx("label",{htmlFor:"auto-logout-toggle"}),e.jsx("span",{children:s.privacy.autoLogout?"مفعل":"غير مفعل"})]})})]}),s.privacy.autoLogout&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"logout-time",children:"وقت تسجيل الخروج (دقائق)"})}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"range-slider",children:[e.jsx("input",{type:"range",id:"logout-time",min:"1",max:"120",value:s.privacy.logoutTime,onChange:a=>t("privacy","logoutTime",a.target.value),"aria-label":"وقت تسجيل الخروج التلقائي بالدقائق"}),e.jsxs("span",{className:"range-value",children:[s.privacy.logoutTime," دقيقة"]})]})})]}),e.jsx("div",{className:"setting-info",children:e.jsxs("p",{children:["سيتم تسجيل خروجك تلقائيًا بعد ",s.privacy.logoutTime," دقيقة من عدم النشاط."]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"تشفير البيانات"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"encryption-toggle",checked:s.privacy.dataEncryption,onChange:a=>t("privacy","dataEncryption",a.target.checked)}),e.jsx("label",{htmlFor:"encryption-toggle"}),e.jsx("span",{children:s.privacy.dataEncryption?"مفعل":"غير مفعل"})]})})]}),s.privacy.dataEncryption&&e.jsx("div",{className:"setting-info",children:e.jsx("p",{children:"سيتم تشفير البيانات المخزنة محليًا لزيادة الأمان. قد يؤثر ذلك قليلاً على أداء التطبيق."})}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معلومات الخصوصية"}),e.jsx("div",{className:"privacy-preview",children:e.jsxs("div",{className:"privacy-status",children:[e.jsxs("div",{className:"privacy-status-item",children:[e.jsx("div",{className:"status-label",children:"حالة الحساب:"}),e.jsx("div",{className:`status-value ${s.privacy.saveLoginInfo?"active":"inactive"}`,children:s.privacy.saveLoginInfo?"متذكر":"غير متذكر"})]}),e.jsxs("div",{className:"privacy-status-item",children:[e.jsx("div",{className:"status-label",children:"الجلسة:"}),e.jsx("div",{className:`status-value ${s.privacy.autoLogout?"warning":"active"}`,children:s.privacy.autoLogout?`تنتهي بعد ${s.privacy.logoutTime} دقيقة`:"مستمرة"})]}),e.jsxs("div",{className:"privacy-status-item",children:[e.jsx("div",{className:"status-label",children:"التشفير:"}),e.jsx("div",{className:`status-value ${s.privacy.dataEncryption?"active":"inactive"}`,children:s.privacy.dataEncryption?"مفعل":"غير مفعل"})]})]})})]})]}),i==="data"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات البيانات"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"حفظ تلقائي"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"auto-save-toggle",checked:s.data.autoSave,onChange:a=>t("data","autoSave",a.target.checked)}),e.jsx("label",{htmlFor:"auto-save-toggle"}),e.jsx("span",{children:s.data.autoSave?"مفعل":"غير مفعل"})]})})]}),s.data.autoSave&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"save-interval",children:"فترة الحفظ التلقائي (دقائق)"})}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"range-slider",children:[e.jsx("input",{type:"range",id:"save-interval",min:"1",max:"60",value:s.data.saveInterval,onChange:a=>t("data","saveInterval",a.target.value),"aria-label":"فترة الحفظ التلقائي بالدقائق"}),e.jsxs("span",{className:"range-value",children:[s.data.saveInterval," دقيقة"]})]})})]}),e.jsx("div",{className:"setting-info",children:e.jsxs("p",{children:["سيتم حفظ البيانات تلقائيًا كل ",s.data.saveInterval," دقيقة."]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"صيغة التصدير"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"export-format-options",children:[e.jsxs("button",{className:`export-format-option ${s.data.exportFormat==="excel"?"active":""}`,onClick:()=>t("data","exportFormat","excel"),children:[e.jsx(X,{}),e.jsx("span",{children:"Excel"})]}),e.jsxs("button",{className:`export-format-option ${s.data.exportFormat==="csv"?"active":""}`,onClick:()=>t("data","exportFormat","csv"),children:[e.jsx(be,{}),e.jsx("span",{children:"CSV"})]}),e.jsxs("button",{className:`export-format-option ${s.data.exportFormat==="pdf"?"active":""}`,onClick:()=>t("data","exportFormat","pdf"),children:[e.jsx(ye,{}),e.jsx("span",{children:"PDF"})]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"نسخ احتياطي للبيانات"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"backup-toggle",checked:s.data.backupData,onChange:a=>t("data","backupData",a.target.checked)}),e.jsx("label",{htmlFor:"backup-toggle"}),e.jsx("span",{children:s.data.backupData?"مفعل":"غير مفعل"})]})})]}),s.data.backupData&&e.jsx("div",{className:"setting-info",children:e.jsx("p",{children:"سيتم عمل نسخة احتياطية من البيانات بشكل دوري للحفاظ على سلامتها."})}),e.jsx(De,{}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"إدارة البيانات"}),e.jsxs("div",{className:"data-management",children:[e.jsxs("div",{className:"data-actions",children:[e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx(X,{})," تصدير البيانات"]}),e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx(R,{})," نسخ احتياطي"]})]}),e.jsxs("div",{className:"data-status",children:[e.jsxs("div",{className:"data-status-item",children:[e.jsx("div",{className:"status-label",children:"الحفظ التلقائي:"}),e.jsx("div",{className:`status-value ${s.data.autoSave?"active":"inactive"}`,children:s.data.autoSave?`كل ${s.data.saveInterval} دقيقة`:"غير مفعل"})]}),e.jsxs("div",{className:"data-status-item",children:[e.jsx("div",{className:"status-label",children:"صيغة التصدير:"}),e.jsx("div",{className:"status-value active",children:s.data.exportFormat.toUpperCase()})]}),e.jsxs("div",{className:"data-status-item",children:[e.jsx("div",{className:"status-label",children:"النسخ الاحتياطي:"}),e.jsx("div",{className:`status-value ${s.data.backupData?"active":"inactive"}`,children:s.data.backupData?"مفعل":"غير مفعل"})]})]})]})]})]}),i==="security"&&e.jsxs("div",{className:"settings-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(F,{className:"section-icon"}),e.jsx("h2",{children:"الأمان والصلاحيات"}),e.jsx("p",{children:"إدارة أدوار المستخدمين والصلاحيات (للاختبار)"})]}),e.jsx(Te,{}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معلومات الأمان"}),e.jsxs("div",{className:"security-info",children:[e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",children:e.jsx(F,{})}),e.jsxs("div",{className:"info-content",children:[e.jsx("h4",{children:"حماية البيانات"}),e.jsx("p",{children:"جميع البيانات محمية ومشفرة محلياً في متصفحك"})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",children:e.jsx(Q,{})}),e.jsxs("div",{className:"info-content",children:[e.jsx("h4",{children:"الخصوصية"}),e.jsx("p",{children:"لا يتم مشاركة أي بيانات مع أطراف خارجية"})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",children:e.jsx(Se,{})}),e.jsxs("div",{className:"info-content",children:[e.jsx("h4",{children:"التحكم في الوصول"}),e.jsx("p",{children:"نظام صلاحيات متقدم لحماية العمليات الحساسة"})]})]})]})]})]}),e.jsx(ae,{children:v&&e.jsx(m.div,{className:"confirm-dialog-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(m.div,{className:"confirm-dialog",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[e.jsx("h3",{children:"تأكيد إعادة تعيين الإعدادات"}),e.jsx("p",{children:"هل أنت متأكد من إعادة تعيين جميع الإعدادات إلى القيم الافتراضية؟ لا يمكن التراجع عن هذا الإجراء."}),e.jsxs("div",{className:"confirm-actions",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>x(!1),children:"إلغاء"}),e.jsx("button",{className:"btn btn-danger",onClick:ee,children:"إعادة تعيين"})]})]})})}),e.jsx("div",{className:"settings-actions",children:A?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-secondary",onClick:H,children:[e.jsx(J,{})," إلغاء"]}),e.jsxs("button",{className:"btn btn-primary",onClick:O,children:[e.jsx(M,{})," حفظ الإعدادات"]})]}):e.jsxs("button",{className:"btn btn-reset",onClick:z,children:[e.jsx(W,{})," إعادة تعيين الإعدادات"]})})]})]})]})};export{Me as default};
