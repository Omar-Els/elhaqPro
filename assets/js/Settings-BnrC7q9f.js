var le=Object.defineProperty,re=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var _=(c,i,n)=>i in c?le(c,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[i]=n,m=(c,i)=>{for(var n in i||(i={}))de.call(i,n)&&_(c,n,i[n]);if(q)for(var n of q(i))he.call(i,n)&&_(c,n,i[n]);return c},E=(c,i)=>re(c,oe(i));var F=(c,i,n)=>new Promise((d,j)=>{var p=o=>{try{r(n.next(o))}catch(h){j(h)}},t=o=>{try{r(n.throw(o))}catch(h){j(h)}},r=o=>o.done?d(o.value):Promise.resolve(o.value).then(p,t);r((n=n.apply(c,i)).next())});import{j as e,m as g,A as me}from"./ui-DdfHXWzg.js";import{r as x}from"./router-Bz2IGiOt.js";import{u as B,e as u}from"./redux-CWL_9H02.js";import{aL as A,aM as L,_ as se,aa as xe,ag as je,aN as ve,aO as ge,aP as pe,aQ as ue,aR as Ne,aS as D,aT as R,o as $,aU as b,aV as fe,aW as be,aX as ye,aY as Se,aZ as ke,a_ as we,a$ as Ce,b0 as Fe,b1 as Ie,m as Q,b2 as W,ac as X,b3 as Y,b4 as Z,b5 as De,b6 as G,b7 as K,b8 as $e,b9 as P,ba as I,aI as ee,bb as Te,bc as Ee,bd as Re,be as Pe,bf as Ae,bg as Le,bh as Be,bi as Oe}from"./index-COkUExVb.js";import"./vendor-BDC5HmX-.js";const ze=()=>{const[c,i]=x.useState(!1),n=()=>{if(confirm(`هل تريد تنظيف البيانات المحلية؟

سيتم الاحتفاظ بـ:
• توكن تسجيل الدخول
• الإعدادات الأساسية
• تفضيلات المستخدم`)){i(!0);const t=localStorage.getItem("authToken"),r=localStorage.getItem("userPreferences"),o=localStorage.getItem("theme"),h=localStorage.getItem("language");localStorage.clear(),t&&localStorage.setItem("authToken",t),r&&localStorage.setItem("userPreferences",r),o&&localStorage.setItem("theme",o),h&&localStorage.setItem("language",h),console.log("✅ تم تنظيف localStorage"),setTimeout(()=>{i(!1),alert("تم تنظيف البيانات المحلية بنجاح!")},1e3)}},d=()=>F(null,null,function*(){if(confirm(`هل تريد حذف جميع قواعد البيانات المحلية؟

هذا سيحذف:
• جميع البيانات المحفوظة محلياً
• الصور والملفات
• البيانات المؤقتة`)){i(!0);try{const t=["ElhaqDB","beneficiariesDB","transactionsDB","filesDB"];for(const r of t)try{yield j(r),console.log(`✅ تم حذف قاعدة البيانات: ${r}`)}catch(o){console.warn(`⚠️ فشل في حذف ${r}:`,o)}console.log("✅ تم تنظيف IndexedDB"),alert("تم حذف جميع قواعد البيانات المحلية بنجاح!")}catch(t){console.error("❌ خطأ في تنظيف IndexedDB:",t),alert("حدث خطأ في تنظيف قواعد البيانات")}finally{i(!1)}}}),j=t=>new Promise((r,o)=>{const h=indexedDB.deleteDatabase(t);h.onsuccess=()=>r(),h.onerror=()=>o(h.error),h.onblocked=()=>{console.warn(`⚠️ حذف ${t} محجوب`),setTimeout(()=>r(),1e3)}}),p=()=>F(null,null,function*(){if(confirm(`تنظيف شامل للبيانات المحلية؟

سيتم حذف:
• جميع البيانات في localStorage
• جميع قواعد بيانات IndexedDB
• Cache المتصفح

الاحتفاظ فقط بـ:
• توكن تسجيل الدخول
• الإعدادات الأساسية`)){i(!0);try{const t=localStorage.getItem("authToken"),r=localStorage.getItem("userPreferences"),o=localStorage.getItem("theme");localStorage.clear(),sessionStorage.clear(),t&&localStorage.setItem("authToken",t),r&&localStorage.setItem("userPreferences",r),o&&localStorage.setItem("theme",o);const h=["ElhaqDB","beneficiariesDB","transactionsDB","filesDB"];for(const v of h)try{yield j(v)}catch(N){console.warn(`فشل في حذف ${v}`)}if("caches"in window){const v=yield caches.keys();yield Promise.all(v.map(N=>caches.delete(N)))}console.log("🎉 تم التنظيف الشامل بنجاح"),alert(`تم التنظيف الشامل بنجاح!

تم توفير مساحة كبيرة في المتصفح.`),setTimeout(()=>{window.location.reload()},1e3)}catch(t){console.error("❌ خطأ في التنظيف الشامل:",t),alert("حدث خطأ في التنظيف الشامل")}finally{i(!1)}}});return e.jsxs("div",{className:"data-cleanup-container",children:[e.jsx("h3",{children:"🧹 تنظيف البيانات المحلية"}),e.jsx("p",{children:"لحل مشاكل امتلاء مساحة التخزين في المتصفح"}),e.jsxs("div",{className:"cleanup-buttons",children:[e.jsxs(g.button,{className:"cleanup-btn localStorage-btn",onClick:n,disabled:c,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(A,{}),"تنظيف localStorage"]}),e.jsxs(g.button,{className:"cleanup-btn indexeddb-btn",onClick:d,disabled:c,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(L,{}),"حذف IndexedDB"]}),e.jsxs(g.button,{className:"cleanup-btn full-cleanup-btn",onClick:p,disabled:c,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(se,{}),c?"جاري التنظيف...":"تنظيف شامل"]})]}),e.jsxs("div",{className:"cleanup-info",children:[e.jsx("h4",{children:"💡 نصائح:"}),e.jsxs("ul",{children:[e.jsx("li",{children:'✅ استخدم "تنظيف localStorage" للمشاكل البسيطة'}),e.jsx("li",{children:'✅ استخدم "حذف IndexedDB" للبيانات الكبيرة'}),e.jsx("li",{children:'✅ استخدم "تنظيف شامل" لحل جميع المشاكل'}),e.jsx("li",{children:"⚠️ التنظيف الشامل سيعيد تحميل الصفحة"})]})]})]})},He=()=>{const c=B(),i=u(v=>v.notifications.notifications),n=i.length,d=i.filter(v=>v.read).length,j=n-d,p=new Date(Date.now()-60*60*1e3),t=i.filter(v=>new Date(v.timestamp)<p).length,r=()=>{confirm(`هل تريد حذف جميع الإشعارات (${n} إشعار)؟`)&&c(pe())},o=()=>{if(t===0){alert("لا توجد إشعارات قديمة للحذف");return}confirm(`هل تريد حذف الإشعارات القديمة (${t} إشعار)؟`)&&c(ge())},h=()=>{if(d===0){alert("لا توجد إشعارات مقروءة للحذف");return}confirm(`هل تريد حذف الإشعارات المقروءة (${d} إشعار)؟`)&&c(ve())};return e.jsxs("div",{className:"notification-cleanup",children:[e.jsx("h3",{children:"🧹 تنظيف الإشعارات"}),e.jsx("p",{children:"إدارة وتنظيف الإشعارات لتوفير المساحة وتحسين الأداء"}),e.jsxs("div",{className:"notification-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-number",children:n}),e.jsx("div",{className:"stat-label",children:"إجمالي الإشعارات"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-number",children:j}),e.jsx("div",{className:"stat-label",children:"غير مقروءة"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-number",children:d}),e.jsx("div",{className:"stat-label",children:"مقروءة"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-number",children:t}),e.jsx("div",{className:"stat-label",children:"قديمة (+1 ساعة)"})]})]}),e.jsxs("div",{className:"cleanup-actions",children:[e.jsxs(g.button,{className:"cleanup-action-btn clear-read-btn",onClick:h,disabled:d===0,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(xe,{}),e.jsxs("span",{children:["حذف المقروءة (",d,")"]})]}),e.jsxs(g.button,{className:"cleanup-action-btn clear-old-btn",onClick:o,disabled:t===0,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(je,{}),e.jsxs("span",{children:["حذف القديمة (",t,")"]})]}),e.jsxs(g.button,{className:"cleanup-action-btn clear-all-btn",onClick:r,disabled:n===0,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(se,{}),e.jsxs("span",{children:["حذف الكل (",n,")"]})]})]}),e.jsxs("div",{className:"cleanup-info",children:[e.jsx("h4",{children:"💡 نصائح لإدارة الإشعارات:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:["✅ ",e.jsx("strong",{children:"حذف المقروءة:"})," يحذف الإشعارات التي قرأتها بالفعل"]}),e.jsxs("li",{children:["✅ ",e.jsx("strong",{children:"حذف القديمة:"})," يحذف الإشعارات الأقدم من ساعة واحدة"]}),e.jsxs("li",{children:["✅ ",e.jsx("strong",{children:"حذف الكل:"})," يحذف جميع الإشعارات (استخدم بحذر)"]}),e.jsxs("li",{children:["⚡ ",e.jsx("strong",{children:"تلقائي:"})," النظام يحد من الإشعارات المتكررة تلقائياً"]}),e.jsxs("li",{children:["💾 ",e.jsx("strong",{children:"توفير المساحة:"})," الإشعارات لا تُحفظ في localStorage"]})]})]}),n>30&&e.jsxs("div",{className:"cleanup-warning",children:[e.jsx(A,{}),e.jsxs("div",{children:[e.jsx("strong",{children:"تحذير:"})," لديك ",n," إشعار. يُنصح بتنظيف الإشعارات لتحسين الأداء."]})]}),n===0&&e.jsxs("div",{className:"no-notifications",children:[e.jsx(A,{}),e.jsxs("div",{children:[e.jsx("strong",{children:"ممتاز!"})," لا توجد إشعارات للتنظيف."]})]})]})},Ue=()=>{const c=B(),i=u(ue),n=u(Ne),d=j=>{j===b.ADMIN?c(fe()):c(be())};return e.jsxs("div",{className:"role-switcher",children:[e.jsxs("div",{className:"role-switcher-header",children:[e.jsx(D,{}),e.jsx("h3",{children:"تبديل الدور (للاختبار)"})]}),e.jsxs("div",{className:"current-role",children:[e.jsx("span",{children:"الدور الحالي: "}),e.jsx("span",{className:`role-badge ${i}`,children:n?e.jsxs(e.Fragment,{children:[e.jsx(R,{})," مدير"]}):e.jsxs(e.Fragment,{children:[e.jsx($,{})," مستخدم"]})})]}),e.jsxs("div",{className:"role-buttons",children:[e.jsxs(g.button,{className:`role-btn admin-btn ${i===b.ADMIN?"active":""}`,onClick:()=>d(b.ADMIN),whileHover:{scale:1.05},whileTap:{scale:.95},disabled:i===b.ADMIN,children:[e.jsx(R,{}),e.jsxs("div",{children:[e.jsx("div",{className:"role-title",children:"مدير"}),e.jsx("div",{className:"role-desc",children:"جميع الصلاحيات"})]})]}),e.jsxs(g.button,{className:`role-btn user-btn ${i===b.USER?"active":""}`,onClick:()=>d(b.USER),whileHover:{scale:1.05},whileTap:{scale:.95},disabled:i===b.USER,children:[e.jsx($,{}),e.jsxs("div",{children:[e.jsx("div",{className:"role-title",children:"مستخدم"}),e.jsx("div",{className:"role-desc",children:"عرض فقط"})]})]})]}),e.jsxs("div",{className:"role-permissions",children:[e.jsx("h4",{children:"الصلاحيات الحالية:"}),e.jsx("div",{className:"permissions-list",children:n?e.jsxs("div",{className:"permission-item admin-permission",children:[e.jsx(R,{}),e.jsx("span",{children:"جميع الصلاحيات (مدير)"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"permission-item",children:e.jsx("span",{children:"👁️ عرض المستفيدين"})}),e.jsx("div",{className:"permission-item",children:e.jsx("span",{children:"👁️ عرض المعاملات المالية"})}),e.jsx("div",{className:"permission-item",children:e.jsx("span",{children:"👁️ عرض التقارير"})}),e.jsx("div",{className:"permission-item",children:e.jsx("span",{children:"🔍 البحث والفلترة"})})]})})]}),e.jsxs("div",{className:"role-info",children:[e.jsx("h4",{children:"💡 معلومات الأدوار:"}),e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"👑 المدير:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"✅ إضافة وتعديل وحذف المستفيدين"}),e.jsx("li",{children:"✅ إدارة المعاملات المالية"}),e.jsx("li",{children:"✅ تصدير التقارير"}),e.jsx("li",{children:"✅ تعديل الإعدادات"}),e.jsx("li",{children:"✅ إدارة المحتوى"})]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"👤 المستخدم:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"👁️ عرض المستفيدين فقط"}),e.jsx("li",{children:"👁️ عرض المعاملات المالية فقط"}),e.jsx("li",{children:"🔍 البحث والفلترة"}),e.jsx("li",{children:"📊 عرض التقارير فقط"}),e.jsx("li",{children:"❌ لا يمكن التعديل أو الحذف"})]})]})]})]})},es=()=>{const c=B();u(ye),u(Se);const i=u(ke),n=u(we),d=u(Ce),j=u(Fe),p=u(Ie),[t,r]=x.useState("appearance"),[o,h]=x.useState(!1),[v,N]=x.useState(null),[w,C]=x.useState(!1),[O,k]=x.useState(!1),[Je,ae]=x.useState(null),[Me,Ve]=x.useState(!1),[qe,z]=x.useState(null),[_e,Qe]=x.useState(!1),ie=x.useRef(null),H=x.useRef(null),[s,T]=x.useState({appearance:m({},i),notifications:m({},n),account:m({},d),privacy:m({},j),data:m({},p)});x.useEffect(()=>{T({appearance:m({},i),notifications:m({},n),account:m({},d),privacy:m({},j),data:m({},p)})},[i,n,d,j,p]),x.useEffect(()=>{if(t==="data"){const a=()=>F(null,null,function*(){const f=Pe.getStorageInfo();ae(f);try{const S=yield Ae();z(S)}catch(S){console.warn("لا يمكن الحصول على معلومات IndexedDB:",S),z(null)}});a();const y=setInterval(a,5e3);return()=>clearInterval(y)}},[t]),x.useEffect(()=>{(()=>{JSON.stringify(s.appearance)!==JSON.stringify(i)||JSON.stringify(s.notifications)!==JSON.stringify(n)||JSON.stringify(s.account)!==JSON.stringify(d)||JSON.stringify(s.privacy)!==JSON.stringify(j)||JSON.stringify(s.data)!==JSON.stringify(p)?k(!0):k(!1)})()},[s,i,n,d,j,p]),x.useEffect(()=>{if(w&&v)return(()=>{document.documentElement.style.setProperty("--font-size-preview",te(v.appearance.fontSize)),document.body.classList.add("preview-mode"),document.documentElement.style.setProperty("--primary-color-preview",v.appearance.primaryColor),document.documentElement.style.setProperty("--secondary-color-preview",v.appearance.secondaryColor)})(),()=>{document.body.classList.remove("preview-mode")}},[w,v]);const te=a=>{switch(a){case"small":return"0.875rem";case"large":return"1.125rem";case"medium":default:return"1rem"}},l=(a,y,f)=>{const S=E(m({},s),{[a]:E(m({},s[a]),{[y]:f})});T(S),N(S),C(!0)},U=()=>{Object.keys(s).forEach(a=>{c(Le({category:a,settings:s[a]}))}),c(Be(s.appearance.theme)),c(I({type:"success",message:"تم حفظ الإعدادات بنجاح"})),C(!1),N(null),k(!1)},J=()=>{h(!0)},ne=()=>{c(Oe()),c(I({type:"info",message:"تم إعادة تعيين الإعدادات إلى الإعدادات الافتراضية"})),h(!1),C(!1),N(null),k(!1)},M=()=>{T({appearance:m({},i),notifications:m({},n),account:m({},d),privacy:m({},j),data:m({},p)}),C(!1),N(null),k(!1),c(I({type:"info",message:"تم إلغاء التغييرات"}))},ce={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},V={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return e.jsxs(g.div,{className:`settings-container ${w?"preview-active":""}`,variants:ce,initial:"hidden",animate:"visible",children:[e.jsxs(g.div,{className:"page-header",variants:V,children:[e.jsx("h1",{children:"الإعدادات"}),O&&e.jsxs("div",{className:"settings-status",children:[e.jsx("span",{className:"status-badge",children:"تم التعديل"}),e.jsxs("div",{className:"header-actions",children:[e.jsxs(g.button,{className:"btn btn-secondary",onClick:M,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Q,{})," إلغاء"]}),e.jsxs(g.button,{className:"btn btn-primary",onClick:U,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(W,{})," حفظ التغييرات"]})]})]})]}),w&&e.jsx(g.div,{className:"preview-banner",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("div",{className:"preview-message",children:[e.jsx(X,{}),' أنت في وضع المعاينة. التغييرات لن يتم حفظها حتى تضغط على "حفظ التغييرات".']})}),e.jsxs(g.div,{className:"settings-content",variants:V,children:[e.jsxs("div",{className:"settings-sidebar",children:[e.jsxs("button",{className:`settings-tab ${t==="appearance"?"active":""}`,onClick:()=>r("appearance"),children:[e.jsx(Y,{})," المظهر"]}),e.jsxs("button",{className:`settings-tab ${t==="notifications"?"active":""}`,onClick:()=>r("notifications"),children:[e.jsx(Z,{})," الإشعارات"]}),e.jsxs("button",{className:`settings-tab ${t==="account"?"active":""}`,onClick:()=>r("account"),children:[e.jsx(De,{})," الحساب"]}),e.jsxs("button",{className:`settings-tab ${t==="privacy"?"active":""}`,onClick:()=>r("privacy"),children:[e.jsx(G,{})," الخصوصية"]}),e.jsxs("button",{className:`settings-tab ${t==="data"?"active":""}`,onClick:()=>r("data"),children:[e.jsx(L,{})," البيانات"]}),e.jsxs("button",{className:`settings-tab ${t==="security"?"active":""}`,onClick:()=>r("security"),children:[e.jsx(D,{})," الأمان والصلاحيات"]}),e.jsx("div",{className:"settings-actions-sidebar",children:e.jsxs("button",{className:"btn btn-reset",onClick:J,children:[e.jsx(K,{})," إعادة تعيين"]})})]}),e.jsxs("div",{className:"settings-panel",children:[t==="appearance"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات المظهر"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"المظهر"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"theme-options",children:[e.jsxs("button",{className:`theme-option ${s.appearance.theme==="light"?"active":""}`,onClick:()=>l("appearance","theme","light"),children:[e.jsx("div",{className:"theme-preview light-preview",children:e.jsx(Y,{})}),e.jsx("span",{children:"فاتح"})]}),e.jsxs("button",{className:`theme-option ${s.appearance.theme==="dark"?"active":""}`,onClick:()=>l("appearance","theme","dark"),children:[e.jsx("div",{className:"theme-preview dark-preview",children:e.jsx($e,{})}),e.jsx("span",{children:"داكن"})]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"الألوان الرئيسية"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"color-pickers",children:[e.jsxs("div",{className:"color-picker",children:[e.jsx("label",{children:"اللون الرئيسي"}),e.jsx("div",{className:"color-preview",style:{backgroundColor:s.appearance.primaryColor},children:e.jsx("input",{type:"color",id:"primary-color",name:"primary-color",value:s.appearance.primaryColor,onChange:a=>l("appearance","primaryColor",a.target.value),ref:ie})})]}),e.jsxs("div",{className:"color-picker",children:[e.jsx("label",{children:"اللون الثانوي"}),e.jsx("div",{className:"color-preview",style:{backgroundColor:s.appearance.secondaryColor},children:e.jsx("input",{type:"color",id:"secondary-color",name:"secondary-color",value:s.appearance.secondaryColor,onChange:a=>l("appearance","secondaryColor",a.target.value)})})]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"حجم الخط"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"font-size-options",children:[e.jsxs("button",{className:`font-size-option ${s.appearance.fontSize==="small"?"active":""}`,onClick:()=>l("appearance","fontSize","small"),children:[e.jsx(P,{className:"font-small"}),e.jsx("span",{children:"صغير"})]}),e.jsxs("button",{className:`font-size-option ${s.appearance.fontSize==="medium"?"active":""}`,onClick:()=>l("appearance","fontSize","medium"),children:[e.jsx(P,{className:"font-medium"}),e.jsx("span",{children:"متوسط"})]}),e.jsxs("button",{className:`font-size-option ${s.appearance.fontSize==="large"?"active":""}`,onClick:()=>l("appearance","fontSize","large"),children:[e.jsx(P,{className:"font-large"}),e.jsx("span",{children:"كبير"})]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"اتجاه الصفحة"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"rtl-toggle",checked:s.appearance.rtl,onChange:a=>l("appearance","rtl",a.target.checked)}),e.jsx("label",{htmlFor:"rtl-toggle"}),e.jsx("span",{children:s.appearance.rtl?"من اليمين إلى اليسار":"من اليسار إلى اليمين"})]})})]}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معاينة"}),e.jsxs("div",{className:`preview-box ${s.appearance.theme}`,children:[e.jsx("div",{className:"preview-header",style:{backgroundColor:s.appearance.primaryColor},children:e.jsx("div",{className:"preview-title",children:"معاينة المظهر"})}),e.jsxs("div",{className:"preview-content",children:[e.jsx("div",{className:"preview-text",children:"هذا نص تجريبي لمعاينة حجم الخط والألوان."}),e.jsx("button",{className:"preview-button",style:{backgroundColor:s.appearance.secondaryColor},children:"زر تجريبي"})]})]})]})]}),t==="notifications"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات الإشعارات"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"تفعيل الإشعارات"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"notifications-toggle",checked:s.notifications.enableNotifications,onChange:a=>l("notifications","enableNotifications",a.target.checked)}),e.jsx("label",{htmlFor:"notifications-toggle"}),e.jsx("span",{children:s.notifications.enableNotifications?"مفعل":"غير مفعل"})]})})]}),s.notifications.enableNotifications&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"صوت الإشعارات"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"sound-toggle",checked:s.notifications.notificationSound,onChange:a=>l("notifications","notificationSound",a.target.checked)}),e.jsx("label",{htmlFor:"sound-toggle"}),e.jsx("span",{children:s.notifications.notificationSound?"مفعل":"غير مفعل"})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"notification-duration",children:"مدة ظهور الإشعار (ثواني)"})}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"range-slider",children:[e.jsx("input",{type:"range",id:"notification-duration",min:"1",max:"10",value:s.notifications.notificationDuration,onChange:a=>l("notifications","notificationDuration",parseInt(a.target.value,10)),"aria-label":"مدة ظهور الإشعار بالثواني"}),e.jsxs("span",{className:"range-value",children:[s.notifications.notificationDuration," ثواني"]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"إشعارات البريد الإلكتروني"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"email-toggle",checked:s.notifications.emailNotifications,onChange:a=>l("notifications","emailNotifications",a.target.checked)}),e.jsx("label",{htmlFor:"email-toggle"}),e.jsx("span",{children:s.notifications.emailNotifications?"مفعل":"غير مفعل"})]})})]}),s.notifications.emailNotifications&&e.jsx("div",{className:"setting-info",children:e.jsxs("p",{children:["سيتم إرسال إشعارات البريد الإلكتروني إلى العنوان المحدد في إعدادات الحساب.",!s.account.email&&e.jsx("span",{className:"warning-text",children:" يرجى تحديد عنوان بريد إلكتروني في إعدادات الحساب."})]})})]}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معاينة الإشعارات"}),e.jsxs("div",{className:"notification-preview",children:[e.jsxs("div",{className:`notification-item ${s.notifications.enableNotifications?"":"disabled"}`,children:[e.jsx("div",{className:"notification-icon success",children:e.jsx(X,{})}),e.jsxs("div",{className:"notification-content",children:[e.jsx("div",{className:"notification-title",children:"إشعار تجريبي"}),e.jsx("div",{className:"notification-message",children:"هذا مثال على كيفية ظهور الإشعارات في النظام."})]})]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>{s.notifications.enableNotifications&&c(I({type:"info",message:"هذا إشعار تجريبي لمعاينة الإعدادات"}))},disabled:!s.notifications.enableNotifications,children:[e.jsx(Z,{})," عرض إشعار تجريبي"]})]})]}),e.jsx(He,{})]}),t==="account"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات الحساب"}),e.jsxs("div",{className:"account-header",children:[e.jsxs("div",{className:"avatar-container",children:[e.jsx("label",{htmlFor:"avatar-upload",className:"avatar-label",children:"الصورة الشخصية"}),e.jsxs("div",{className:"avatar-preview",style:{backgroundImage:s.account.avatar?`url(${s.account.avatar})`:"none"},children:[!s.account.avatar&&e.jsx($,{}),e.jsx("button",{className:"avatar-upload-btn",onClick:()=>H.current.click(),"aria-label":"تغيير الصورة الشخصية",children:"تغيير"}),e.jsx("input",{type:"file",id:"avatar-upload",ref:H,style:{display:"none"},accept:"image/*","aria-label":"رفع صورة شخصية",onChange:a=>{const y=a.target.files[0];if(y){const f=new FileReader;f.onloadend=()=>{l("account","avatar",f.result)},f.readAsDataURL(y)}}})]})]}),e.jsx("div",{className:"account-info",children:e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"display-name",children:"اسم العرض"})}),e.jsx("div",{className:"setting-control",children:e.jsx("input",{type:"text",id:"display-name",name:"display-name",value:s.account.displayName,onChange:a=>l("account","displayName",a.target.value),placeholder:"أدخل اسم العرض",autoComplete:"name","aria-label":"اسم العرض"})})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"account-email",children:"البريد الإلكتروني"})}),e.jsx("div",{className:"setting-control",children:e.jsx("input",{type:"email",id:"account-email",name:"account-email",value:s.account.email,onChange:a=>l("account","email",a.target.value),placeholder:"أدخل البريد الإلكتروني",autoComplete:"email","aria-label":"البريد الإلكتروني"})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"اللغة"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"language-options",children:[e.jsxs("button",{className:`language-option ${s.account.language==="ar"?"active":""}`,onClick:()=>l("account","language","ar"),children:[e.jsx("span",{className:"language-flag",children:"🇪🇬"}),e.jsx("span",{children:"العربية"})]}),e.jsxs("button",{className:`language-option ${s.account.language==="en"?"active":""}`,onClick:()=>l("account","language","en"),children:[e.jsx("span",{className:"language-flag",children:"🇺🇸"}),e.jsx("span",{children:"الإنجليزية"})]})]})})]}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معاينة الحساب"}),e.jsx("div",{className:"account-preview",children:e.jsxs("div",{className:"account-card",children:[e.jsxs("div",{className:"account-card-header",children:[e.jsx("div",{className:"account-card-avatar",style:{backgroundImage:s.account.avatar?`url(${s.account.avatar})`:"none"},children:!s.account.avatar&&e.jsx($,{})}),e.jsx("div",{className:"account-card-name",children:s.account.displayName||"المستخدم"})]}),e.jsxs("div",{className:"account-card-body",children:[e.jsx("div",{className:"account-card-email",children:s.account.email||"لم يتم تحديد بريد إلكتروني"}),e.jsx("div",{className:"account-card-language",children:s.account.language==="ar"?"العربية 🇪🇬":"الإنجليزية 🇺🇸"})]})]})})]})]}),t==="privacy"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات الخصوصية"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"حفظ معلومات تسجيل الدخول"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"save-login-toggle",checked:s.privacy.saveLoginInfo,onChange:a=>l("privacy","saveLoginInfo",a.target.checked)}),e.jsx("label",{htmlFor:"save-login-toggle"}),e.jsx("span",{children:s.privacy.saveLoginInfo?"مفعل":"غير مفعل"})]})})]}),s.privacy.saveLoginInfo&&e.jsx("div",{className:"setting-info",children:e.jsx("p",{children:"سيتم حفظ معلومات تسجيل الدخول الخاصة بك على هذا الجهاز، مما يتيح لك تسجيل الدخول تلقائيًا في المرة القادمة."})}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"تسجيل الخروج التلقائي"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"auto-logout-toggle",checked:s.privacy.autoLogout,onChange:a=>l("privacy","autoLogout",a.target.checked)}),e.jsx("label",{htmlFor:"auto-logout-toggle"}),e.jsx("span",{children:s.privacy.autoLogout?"مفعل":"غير مفعل"})]})})]}),s.privacy.autoLogout&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"logout-time",children:"وقت تسجيل الخروج (دقائق)"})}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"range-slider",children:[e.jsx("input",{type:"range",id:"logout-time",min:"1",max:"120",value:s.privacy.logoutTime,onChange:a=>l("privacy","logoutTime",a.target.value),"aria-label":"وقت تسجيل الخروج التلقائي بالدقائق"}),e.jsxs("span",{className:"range-value",children:[s.privacy.logoutTime," دقيقة"]})]})})]}),e.jsx("div",{className:"setting-info",children:e.jsxs("p",{children:["سيتم تسجيل خروجك تلقائيًا بعد ",s.privacy.logoutTime," دقيقة من عدم النشاط."]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"تشفير البيانات"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"encryption-toggle",checked:s.privacy.dataEncryption,onChange:a=>l("privacy","dataEncryption",a.target.checked)}),e.jsx("label",{htmlFor:"encryption-toggle"}),e.jsx("span",{children:s.privacy.dataEncryption?"مفعل":"غير مفعل"})]})})]}),s.privacy.dataEncryption&&e.jsx("div",{className:"setting-info",children:e.jsx("p",{children:"سيتم تشفير البيانات المخزنة محليًا لزيادة الأمان. قد يؤثر ذلك قليلاً على أداء التطبيق."})}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معلومات الخصوصية"}),e.jsx("div",{className:"privacy-preview",children:e.jsxs("div",{className:"privacy-status",children:[e.jsxs("div",{className:"privacy-status-item",children:[e.jsx("div",{className:"status-label",children:"حالة الحساب:"}),e.jsx("div",{className:`status-value ${s.privacy.saveLoginInfo?"active":"inactive"}`,children:s.privacy.saveLoginInfo?"متذكر":"غير متذكر"})]}),e.jsxs("div",{className:"privacy-status-item",children:[e.jsx("div",{className:"status-label",children:"الجلسة:"}),e.jsx("div",{className:`status-value ${s.privacy.autoLogout?"warning":"active"}`,children:s.privacy.autoLogout?`تنتهي بعد ${s.privacy.logoutTime} دقيقة`:"مستمرة"})]}),e.jsxs("div",{className:"privacy-status-item",children:[e.jsx("div",{className:"status-label",children:"التشفير:"}),e.jsx("div",{className:`status-value ${s.privacy.dataEncryption?"active":"inactive"}`,children:s.privacy.dataEncryption?"مفعل":"غير مفعل"})]})]})})]})]}),t==="data"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h2",{children:"إعدادات البيانات"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"حفظ تلقائي"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"auto-save-toggle",checked:s.data.autoSave,onChange:a=>l("data","autoSave",a.target.checked)}),e.jsx("label",{htmlFor:"auto-save-toggle"}),e.jsx("span",{children:s.data.autoSave?"مفعل":"غير مفعل"})]})})]}),s.data.autoSave&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("label",{htmlFor:"save-interval",children:"فترة الحفظ التلقائي (دقائق)"})}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"range-slider",children:[e.jsx("input",{type:"range",id:"save-interval",min:"1",max:"60",value:s.data.saveInterval,onChange:a=>l("data","saveInterval",a.target.value),"aria-label":"فترة الحفظ التلقائي بالدقائق"}),e.jsxs("span",{className:"range-value",children:[s.data.saveInterval," دقيقة"]})]})})]}),e.jsx("div",{className:"setting-info",children:e.jsxs("p",{children:["سيتم حفظ البيانات تلقائيًا كل ",s.data.saveInterval," دقيقة."]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"صيغة التصدير"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"export-format-options",children:[e.jsxs("button",{className:`export-format-option ${s.data.exportFormat==="excel"?"active":""}`,onClick:()=>l("data","exportFormat","excel"),children:[e.jsx(ee,{}),e.jsx("span",{children:"Excel"})]}),e.jsxs("button",{className:`export-format-option ${s.data.exportFormat==="csv"?"active":""}`,onClick:()=>l("data","exportFormat","csv"),children:[e.jsx(Te,{}),e.jsx("span",{children:"CSV"})]}),e.jsxs("button",{className:`export-format-option ${s.data.exportFormat==="pdf"?"active":""}`,onClick:()=>l("data","exportFormat","pdf"),children:[e.jsx(Ee,{}),e.jsx("span",{children:"PDF"})]})]})})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:"نسخ احتياطي للبيانات"}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",id:"backup-toggle",checked:s.data.backupData,onChange:a=>l("data","backupData",a.target.checked)}),e.jsx("label",{htmlFor:"backup-toggle"}),e.jsx("span",{children:s.data.backupData?"مفعل":"غير مفعل"})]})})]}),s.data.backupData&&e.jsx("div",{className:"setting-info",children:e.jsx("p",{children:"سيتم عمل نسخة احتياطية من البيانات بشكل دوري للحفاظ على سلامتها."})}),e.jsx(ze,{}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"إدارة البيانات"}),e.jsxs("div",{className:"data-management",children:[e.jsxs("div",{className:"data-actions",children:[e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx(ee,{})," تصدير البيانات"]}),e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx(L,{})," نسخ احتياطي"]})]}),e.jsxs("div",{className:"data-status",children:[e.jsxs("div",{className:"data-status-item",children:[e.jsx("div",{className:"status-label",children:"الحفظ التلقائي:"}),e.jsx("div",{className:`status-value ${s.data.autoSave?"active":"inactive"}`,children:s.data.autoSave?`كل ${s.data.saveInterval} دقيقة`:"غير مفعل"})]}),e.jsxs("div",{className:"data-status-item",children:[e.jsx("div",{className:"status-label",children:"صيغة التصدير:"}),e.jsx("div",{className:"status-value active",children:s.data.exportFormat.toUpperCase()})]}),e.jsxs("div",{className:"data-status-item",children:[e.jsx("div",{className:"status-label",children:"النسخ الاحتياطي:"}),e.jsx("div",{className:`status-value ${s.data.backupData?"active":"inactive"}`,children:s.data.backupData?"مفعل":"غير مفعل"})]})]})]})]})]}),t==="security"&&e.jsxs("div",{className:"settings-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(D,{className:"section-icon"}),e.jsx("h2",{children:"الأمان والصلاحيات"}),e.jsx("p",{children:"إدارة أدوار المستخدمين والصلاحيات (للاختبار)"})]}),e.jsx(Ue,{}),e.jsxs("div",{className:"setting-preview",children:[e.jsx("h3",{children:"معلومات الأمان"}),e.jsxs("div",{className:"security-info",children:[e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",children:e.jsx(D,{})}),e.jsxs("div",{className:"info-content",children:[e.jsx("h4",{children:"حماية البيانات"}),e.jsx("p",{children:"جميع البيانات محمية ومشفرة محلياً في متصفحك"})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",children:e.jsx(G,{})}),e.jsxs("div",{className:"info-content",children:[e.jsx("h4",{children:"الخصوصية"}),e.jsx("p",{children:"لا يتم مشاركة أي بيانات مع أطراف خارجية"})]})]}),e.jsxs("div",{className:"info-card",children:[e.jsx("div",{className:"info-icon",children:e.jsx(Re,{})}),e.jsxs("div",{className:"info-content",children:[e.jsx("h4",{children:"التحكم في الوصول"}),e.jsx("p",{children:"نظام صلاحيات متقدم لحماية العمليات الحساسة"})]})]})]})]})]}),e.jsx(me,{children:o&&e.jsx(g.div,{className:"confirm-dialog-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(g.div,{className:"confirm-dialog",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[e.jsx("h3",{children:"تأكيد إعادة تعيين الإعدادات"}),e.jsx("p",{children:"هل أنت متأكد من إعادة تعيين جميع الإعدادات إلى القيم الافتراضية؟ لا يمكن التراجع عن هذا الإجراء."}),e.jsxs("div",{className:"confirm-actions",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>h(!1),children:"إلغاء"}),e.jsx("button",{className:"btn btn-danger",onClick:ne,children:"إعادة تعيين"})]})]})})}),e.jsx("div",{className:"settings-actions",children:O?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-secondary",onClick:M,children:[e.jsx(Q,{})," إلغاء"]}),e.jsxs("button",{className:"btn btn-primary",onClick:U,children:[e.jsx(W,{})," حفظ الإعدادات"]})]}):e.jsxs("button",{className:"btn btn-reset",onClick:J,children:[e.jsx(K,{})," إعادة تعيين الإعدادات"]})})]})]})]})};export{es as default};
