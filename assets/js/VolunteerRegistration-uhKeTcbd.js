var w=Object.defineProperty,D=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var C=(l,i,a)=>i in l?w(l,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[i]=a,m=(l,i)=>{for(var a in i||(i={}))E.call(i,a)&&C(l,a,i[a]);if(N)for(var a of N(i))V.call(i,a)&&C(l,a,i[a]);return l},h=(l,i)=>D(l,S(i));var F=(l,i,a)=>new Promise((p,o)=>{var u=n=>{try{c(a.next(n))}catch(x){o(x)}},s=n=>{try{c(a.throw(n))}catch(x){o(x)}},c=n=>n.done?p(n.value):Promise.resolve(n.value).then(u,s);c((a=a.apply(l,i)).next())});import{j as e,m as v}from"./ui-DdfHXWzg.js";import{a as $,r as g}from"./router-Bz2IGiOt.js";import{u as P}from"./redux-CWL_9H02.js";import{aF as R,o as T,ar as U,ae as A,m as B,ac as G,ba as f,bw as L}from"./index-COkUExVb.js";import"./vendor-BDC5HmX-.js";const Q=()=>{const l=P(),i=$(),[a,p]=g.useState({name:"",email:"",phone:"",nationalId:"",address:"",birthDate:"",gender:"male",qualification:"",job:"",department:"",skills:"",experience:"",availability:"part-time",emergencyContact:{name:"",phone:"",relation:""},notes:""}),[o,u]=g.useState(!1),[s,c]=g.useState({}),n=r=>{const{name:t,value:j}=r.target;if(t.includes(".")){const[d,q]=t.split(".");p(y=>h(m({},y),{[d]:h(m({},y[d]),{[q]:j})}))}else p(d=>h(m({},d),{[t]:j}));s[t]&&c(d=>h(m({},d),{[t]:""}))},x=()=>{const r={};return a.name.trim()||(r.name="الاسم مطلوب"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(r.email="البريد الإلكتروني غير صحيح"):r.email="البريد الإلكتروني مطلوب",a.phone.trim()?/^01[0-2,5]{1}[0-9]{8}$/.test(a.phone)||(r.phone="رقم الهاتف غير صحيح"):r.phone="رقم الهاتف مطلوب",a.nationalId.trim()?/^[0-9]{14}$/.test(a.nationalId)||(r.nationalId="الرقم القومي يجب أن يكون 14 رقم"):r.nationalId="الرقم القومي مطلوب",a.qualification.trim()||(r.qualification="المؤهل مطلوب"),a.department||(r.department="القسم مطلوب"),c(r),Object.keys(r).length===0},I=r=>F(null,null,function*(){if(r.preventDefault(),!x()){l(f({type:"error",message:"يرجى تصحيح الأخطاء في النموذج"}));return}u(!0);try{const t=a.skills.split(",").map(j=>j.trim()).filter(Boolean);l(L(h(m({},a),{skills:t,status:"active"}))),l(f({type:"success",message:"تم تسجيل المتطوع بنجاح!"})),p({name:"",email:"",phone:"",nationalId:"",address:"",birthDate:"",gender:"male",qualification:"",job:"",department:"",skills:"",experience:"",availability:"part-time",emergencyContact:{name:"",phone:"",relation:""},notes:""}),setTimeout(()=>{i("/volunteers")},2e3)}catch(t){l(f({type:"error",message:"حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى."}))}finally{u(!1)}}),k={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},b={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return e.jsxs(v.div,{className:"volunteer-registration-container",variants:k,initial:"hidden",animate:"visible",children:[e.jsx(v.div,{className:"registration-header",variants:b,children:e.jsxs("div",{className:"header-content",children:[e.jsx(R,{className:"header-icon"}),e.jsx("h1",{children:"تسجيل متطوع جديد"}),e.jsx("p",{children:"انضم إلى فريق دعوة الحق وساهم في خدمة المجتمع"})]})}),e.jsx(v.div,{className:"form-container",variants:b,children:e.jsxs("form",{onSubmit:I,className:"registration-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsxs("h2",{children:[e.jsx(T,{}),"البيانات الشخصية"]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"الاسم الكامل *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:n,className:s.name?"error":"",placeholder:"أدخل الاسم الكامل"}),s.name&&e.jsx("span",{className:"error-message",children:s.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"nationalId",children:"الرقم القومي *"}),e.jsx("input",{type:"text",id:"nationalId",name:"nationalId",value:a.nationalId,onChange:n,className:s.nationalId?"error":"",placeholder:"14 رقم",maxLength:"14"}),s.nationalId&&e.jsx("span",{className:"error-message",children:s.nationalId})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"البريد الإلكتروني *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:n,className:s.email?"error":"",placeholder:"example@email.com"}),s.email&&e.jsx("span",{className:"error-message",children:s.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"رقم الهاتف *"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:n,className:s.phone?"error":"",placeholder:"01234567890"}),s.phone&&e.jsx("span",{className:"error-message",children:s.phone})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"gender",children:"الجنس"}),e.jsxs("select",{id:"gender",name:"gender",value:a.gender,onChange:n,children:[e.jsx("option",{value:"male",children:"ذكر"}),e.jsx("option",{value:"female",children:"أنثى"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"birthDate",children:"تاريخ الميلاد"}),e.jsx("input",{type:"date",id:"birthDate",name:"birthDate",value:a.birthDate,onChange:n})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{htmlFor:"address",children:"العنوان"}),e.jsx("textarea",{id:"address",name:"address",value:a.address,onChange:n,rows:"2",placeholder:"أدخل العنوان الكامل"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsxs("h2",{children:[e.jsx(U,{}),"المؤهلات والوظيفة"]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"qualification",children:"المؤهل التعليمي *"}),e.jsxs("select",{id:"qualification",name:"qualification",value:a.qualification,onChange:n,className:s.qualification?"error":"",children:[e.jsx("option",{value:"",children:"اختر المؤهل"}),e.jsx("option",{value:"high-school",children:"ثانوية عامة"}),e.jsx("option",{value:"diploma",children:"دبلوم"}),e.jsx("option",{value:"bachelor",children:"بكالوريوس"}),e.jsx("option",{value:"master",children:"ماجستير"}),e.jsx("option",{value:"phd",children:"دكتوراه"}),e.jsx("option",{value:"other",children:"أخرى"})]}),s.qualification&&e.jsx("span",{className:"error-message",children:s.qualification})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"job",children:"الوظيفة الحالية"}),e.jsx("input",{type:"text",id:"job",name:"job",value:a.job,onChange:n,placeholder:"مثال: مهندس، طبيب، معلم"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"department",children:"القسم المفضل *"}),e.jsxs("select",{id:"department",name:"department",value:a.department,onChange:n,className:s.department?"error":"",children:[e.jsx("option",{value:"",children:"اختر القسم"}),e.jsx("option",{value:"education",children:"التعليم والتدريب"}),e.jsx("option",{value:"health",children:"الصحة والرعاية"}),e.jsx("option",{value:"social",children:"الشؤون الاجتماعية"}),e.jsx("option",{value:"finance",children:"المالية والمحاسبة"}),e.jsx("option",{value:"media",children:"الإعلام والتسويق"}),e.jsx("option",{value:"logistics",children:"اللوجستيات والتنظيم"}),e.jsx("option",{value:"it",children:"تقنية المعلومات"}),e.jsx("option",{value:"legal",children:"الشؤون القانونية"}),e.jsx("option",{value:"other",children:"أخرى"})]}),s.department&&e.jsx("span",{className:"error-message",children:s.department})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"availability",children:"التوفر"}),e.jsxs("select",{id:"availability",name:"availability",value:a.availability,onChange:n,children:[e.jsx("option",{value:"part-time",children:"دوام جزئي"}),e.jsx("option",{value:"full-time",children:"دوام كامل"}),e.jsx("option",{value:"weekends",children:"نهاية الأسبوع فقط"}),e.jsx("option",{value:"flexible",children:"مرن"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{htmlFor:"skills",children:"المهارات"}),e.jsx("input",{type:"text",id:"skills",name:"skills",value:a.skills,onChange:n,placeholder:"مثال: تصميم، برمجة، تدريس، إدارة (مفصولة بفواصل)"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{htmlFor:"experience",children:"الخبرات السابقة"}),e.jsx("textarea",{id:"experience",name:"experience",value:a.experience,onChange:n,rows:"3",placeholder:"اذكر خبراتك السابقة في العمل التطوعي أو المهني"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsxs("h2",{children:[e.jsx(A,{}),"بيانات الطوارئ"]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emergencyContact.name",children:"اسم شخص للطوارئ"}),e.jsx("input",{type:"text",id:"emergencyContact.name",name:"emergencyContact.name",value:a.emergencyContact.name,onChange:n,placeholder:"اسم الشخص"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emergencyContact.phone",children:"رقم هاتف الطوارئ"}),e.jsx("input",{type:"tel",id:"emergencyContact.phone",name:"emergencyContact.phone",value:a.emergencyContact.phone,onChange:n,placeholder:"01234567890"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emergencyContact.relation",children:"صلة القرابة"}),e.jsx("input",{type:"text",id:"emergencyContact.relation",name:"emergencyContact.relation",value:a.emergencyContact.relation,onChange:n,placeholder:"مثال: والد، أخ، صديق"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{htmlFor:"notes",children:"ملاحظات إضافية"}),e.jsx("textarea",{id:"notes",name:"notes",value:a.notes,onChange:n,rows:"3",placeholder:"أي ملاحظات أو معلومات إضافية"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>i("/volunteers"),children:[e.jsx(B,{}),"إلغاء"]}),e.jsx("button",{type:"submit",className:`btn btn-primary ${o?"loading":""}`,disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),"جاري التسجيل..."]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{}),"تسجيل المتطوع"]})})]})]})})]})};export{Q as default};
